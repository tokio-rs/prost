syntax = "proto3";

package oneof_name_conflict;

message Bakery {
  message Bread {
    int32 weight = 3;
  }

  oneof bread {
    string a = 1;
    Bread b = 2;
  }
}

message EnumAndOneofConflict {
  enum Type {
    TYPE_1 = 0;
    TYPE_2 = 1;
  }

  message TypeOne {
    string field = 1;
  }
  message TypeTwo {
    int32 field = 1;
  }
  message TypeThree {
    Type field = 1;
  }

  oneof type {
    TypeOne type_one = 1;
    TypeTwo type_two = 2;
    TypeThree type_three = 3;
  }
}

message NestedTypeWithReservedKeyword {
  // abstract is a reserved keyword of the languange
  // so it will be escaped as r#abstract.
  message Abstract {
    string field = 1;
  }
  message TypeOne {
    string field = 1;
  }
  message TypeTwo {
    int32 field = 1;
  }
  message TypeThree {
    Abstract field = 1;
  }

  oneof abstract {
    Abstract abstract_ = 1;
    TypeOne type_one = 2;
    TypeTwo type_two = 3;
    TypeThree type_three = 4;
  }
}
